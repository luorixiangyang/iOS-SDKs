--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/NetworkServiceProxy.framework/NetworkServiceProxy
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _NPGetInternalQueue,
                            _NSPPrivacyProxyAuthenticationInfoReadFrom,
                            _NSPPrivacyProxyAuxiliaryAuthInfoReadFrom,
                            _NSPPrivacyProxyBAAValidationReadFrom,
                            _NSPPrivacyProxyConfigurationRawConfig,
                            _NSPPrivacyProxyConfigurationReadFrom,
                            _NSPPrivacyProxyCostReadFrom,
                            _NSPPrivacyProxyErrorResponseReadFrom,
                            _NSPPrivacyProxyGetQuotaRequestReadFrom,
                            _NSPPrivacyProxyGetQuotaResponseReadFrom,
                            _NSPPrivacyProxyObliviousHTTPConfigReadFrom,
                            _NSPPrivacyProxyObliviousTargetInfoReadFrom,
                            _NSPPrivacyProxyPolicyReadFrom,
                            _NSPPrivacyProxyPolicyTierMapReadFrom,
                            _NSPPrivacyProxyProxiedContentMapReadFrom,
                            _NSPPrivacyProxyProxyInfoReadFrom,
                            _NSPPrivacyProxyProxyPathWeightReadFrom,
                            _NSPPrivacyProxyQuotaInfoReadFrom,
                            _NSPPrivacyProxyQuotaReadFrom,
                            _NSPPrivacyProxyQuotaServiceReadFrom,
                            _NSPPrivacyProxyQuotaServiceRequestReadFrom,
                            _NSPPrivacyProxyQuotaServiceResponseReadFrom,
                            _NSPPrivacyProxyResolverInfoReadFrom,
                            _NSPPrivacyProxySignedConfigurationReadFrom,
                            _NSPPrivacyProxySuccessResponseReadFrom,
                            _NSPPrivacyProxyTokenActivationQueryReadFrom,
                            _NSPPrivacyProxyTokenActivationResponseReadFrom,
                            _NSPPrivacyProxyTokenAttesterReadFrom,
                            _NSPPrivacyProxyTokenInfoReadFrom,
                            _NSPPrivacyProxyTokenIssuerReadFrom,
                            _NSPPrivacyProxyTokenKeyReadFrom,
                            _NSPPrivacyProxyTransparencyOHTTPEntryReadFrom,
                            _NSPPrivacyProxyTransparencyTokenEntryReadFrom,
                            _NetworkServiceProxyEnableForSessionTask,
                            _NetworkServiceProxyEnableInParameters,
                            _NetworkServiceProxyGetStatus,
                            _NetworkServiceProxyIsEnabled,
                            _NetworkServiceProxySetCurrentConfiguration,
                            _NetworkServiceProxySetCurrentLocation,
                            _NetworkServiceProxySetFallbackTimeout,
                            _NetworkServiceProxySetRemoteAddressMapForSessionTask,
                            _NetworkServiceProxySetRemoteEndpointsForSessionTask,
                            _NetworkServiceProxySetServiceNameForConnection,
                            _NetworkServiceProxySetServiceNameForTask,
                            _NetworkServiceProxySetServiceNameInParameters,
                            _NetworkServiceProxyStart,
                            _NetworkServiceProxyVersionNumber,
                            _NetworkServiceProxyVersionString,
                            _copyOSBuildString, _copyOSNameString,
                            _copyOSVersionString, _copyProductTypeString,
                            _copySystemVersionDictionary, _create_timestamps,
                            _deviceClassIsHomepod, _enable_timestamps,
                            _g_recordTimestamps, _geohashToLatitudeLongitude,
                            _getServerConnection, _get_interval_for_mach_times,
                            _get_nsarray_from_xpc_object,
                            _get_nsdata_from_xpc_object,
                            _get_nsdictionary_from_xpc_object,
                            _kPrivacyProxyServiceStatusDetailsRegionIDKey,
                            _latitudeLongitudeToGeohash, _myIsEqual,
                            _nplog_large_obj, _nplog_obj, _nsp_print_backtrace ]
    objc-classes:         [ MPTCPConverterProxyClient, NPUtilities,
                            NSPConfiguration, NSPConfigurationSignatureInfo,
                            NSPConnectionInfo, NSPControlConnection,
                            NSPPrivacyProxyAuthenticationInfo,
                            NSPPrivacyProxyAuxiliaryAuthInfo,
                            NSPPrivacyProxyBAAValidation,
                            NSPPrivacyProxyConfiguration, NSPPrivacyProxyCost,
                            NSPPrivacyProxyErrorResponse,
                            NSPPrivacyProxyGetQuotaRequest,
                            NSPPrivacyProxyGetQuotaResponse,
                            NSPPrivacyProxyObliviousHTTPConfig,
                            NSPPrivacyProxyObliviousTargetInfo,
                            NSPPrivacyProxyPolicy, NSPPrivacyProxyPolicyTierMap,
                            NSPPrivacyProxyProxiedContentMap,
                            NSPPrivacyProxyProxyInfo,
                            NSPPrivacyProxyProxyPathWeight, NSPPrivacyProxyQuota,
                            NSPPrivacyProxyQuotaInfo,
                            NSPPrivacyProxyQuotaService,
                            NSPPrivacyProxyQuotaServiceRequest,
                            NSPPrivacyProxyQuotaServiceResponse,
                            NSPPrivacyProxyResolverInfo,
                            NSPPrivacyProxySignedConfiguration,
                            NSPPrivacyProxySuccessResponse,
                            NSPPrivacyProxyTokenActivationQuery,
                            NSPPrivacyProxyTokenActivationResponse,
                            NSPPrivacyProxyTokenAttester,
                            NSPPrivacyProxyTokenInfo, NSPPrivacyProxyTokenIssuer,
                            NSPPrivacyProxyTokenKey,
                            NSPPrivacyProxyTransparencyOHTTPEntry,
                            NSPPrivacyProxyTransparencyTokenEntry,
                            NSPPrivateAccessTokenChallenge,
                            NSPPrivateAccessTokenClientState,
                            NSPPrivateAccessTokenFetcher,
                            NSPPrivateAccessTokenRequest,
                            NSPPrivateAccessTokenResponse, NSPServerClient,
                            NSURLSessionDelegate, PrivacyProxyAppStatus,
                            PrivacyProxyClient, PrivacyProxyInfo,
                            PrivacyProxyNetworkStatus, PrivacyProxyServiceStatus,
                            PrivacyProxyServiceStatusTime, PrivacyProxyTokenInfo ]
    objc-ivars:           [ NSPConfiguration._anyAppEnabledDate,
                            NSPConfiguration._cloudSubscriptionCheckEnabled,
                            NSPConfiguration._configServerEnabled,
                            NSPConfiguration._configServerHeaders,
                            NSPConfiguration._configServerHost,
                            NSPConfiguration._configServerPath,
                            NSPConfiguration._configServerPort,
                            NSPConfiguration._configurationFetchDate,
                            NSPConfiguration._dayPassExpirationDate,
                            NSPConfiguration._defaults,
                            NSPConfiguration._diskVersion,
                            NSPConfiguration._earliestEnableCheckDate,
                            NSPConfiguration._enabled, NSPConfiguration._epoch,
                            NSPConfiguration._etag,
                            NSPConfiguration._geohashOverride,
                            NSPConfiguration._geohashSharingEnabledStatus,
                            NSPConfiguration._ignoreInvalidCerts,
                            NSPConfiguration._ignorePlatformBinary,
                            NSPConfiguration._ignoreSignature,
                            NSPConfiguration._inProcessFlowDivert,
                            NSPConfiguration._lastPrivateCloudComputeEnvironment,
                            NSPConfiguration._overrideConfigServerPath,
                            NSPConfiguration._persistMetrics,
                            NSPConfiguration._preferredPathRoutingEnabledStatus,
                            NSPConfiguration._privacyProxyURLSession,
                            NSPConfiguration._privateAccessTokensAllowTools,
                            NSPConfiguration._privateAccessTokensEnabledStatus,
                            NSPConfiguration._proxyAccountType,
                            NSPConfiguration._proxyAccountUnlimited,
                            NSPConfiguration._proxyConfiguration,
                            NSPConfiguration._proxyConfigurationData,
                            NSPConfiguration._proxyTrafficState,
                            NSPConfiguration._resetTomorrowDate,
                            NSPConfiguration._resurrectionDate,
                            NSPConfiguration._subscriberEnabledFromNonSettingsApp,
                            NSPConfiguration._timestamp,
                            NSPConfiguration._trialConfigVersion,
                            NSPConfiguration._urlRequestTimeout,
                            NSPConfiguration._userPreferredTier,
                            NSPConfiguration._userTier,
                            NSPConfiguration._version,
                            NSPConfiguration._willResetSubscriberTierTomorrow,
                            NSPConfigurationSignatureInfo._certificates,
                            NSPConfigurationSignatureInfo._signature,
                            NSPConfigurationSignatureInfo._signatureAlgorithm,
                            NSPConnectionInfo._IPType,
                            NSPConnectionInfo._TCPInfo,
                            NSPConnectionInfo._TFOSucceeded,
                            NSPConnectionInfo._connectionDelay,
                            NSPConnectionInfo._edgeAddress,
                            NSPConnectionInfo._edgeType,
                            NSPConnectionInfo._exceptions,
                            NSPConnectionInfo._fallbackDelay,
                            NSPConnectionInfo._fallbackReason,
                            NSPConnectionInfo._fallbackReasonCategory,
                            NSPConnectionInfo._firstTxByteDelay,
                            NSPConnectionInfo._firstTxByteTimeStamp,
                            NSPConnectionInfo._initialBytesLeftOver,
                            NSPConnectionInfo._interfaceName,
                            NSPConnectionInfo._interfaceType,
                            NSPConnectionInfo._isMultipath,
                            NSPConnectionInfo._isTFOProbeSucceeded,
                            NSPConnectionInfo._minimumRTT,
                            NSPConnectionInfo._multipathConnectedSubflowCount,
                            NSPConnectionInfo._multipathPrimarySubflowInterfaceIndex,
                            NSPConnectionInfo._multipathSubflowCount,
                            NSPConnectionInfo._multipathSubflowSwitchCounts,
                            NSPConnectionInfo._pathType,
                            NSPConnectionInfo._timeIntervalSinceLastUsage,
                            NSPConnectionInfo._timeToFirstByte,
                            NSPConnectionInfo._timingIntervals,
                            NSPConnectionInfo._tunnelConnectionError,
                            NSPControlConnection._flowIdentifier,
                            NSPPrivacyProxyBAAValidation._baaSignature,
                            NSPPrivacyProxyBAAValidation._intermediateCertificate,
                            NSPPrivacyProxyBAAValidation._leafCertificate,
                            NSPPrivacyProxyErrorResponse._errorReason,
                            NSPPrivacyProxyGetQuotaRequest._useCaseIdentifier,
                            NSPPrivacyProxyPolicy._conditions,
                            NSPPrivacyProxyQuotaInfo._quotaServices,
                            NSPPrivacyProxyQuotaService._serviceURL,
                            NSPPrivacyProxyQuotaService._supportedUseCaseIdentifiers,
                            NSPPrivacyProxySuccessResponse._quota,
                            NSPPrivateAccessTokenChallenge._challengeData,
                            NSPPrivateAccessTokenChallenge._credentialContext,
                            NSPPrivateAccessTokenChallenge._issuerName,
                            NSPPrivateAccessTokenChallenge._originInfo,
                            NSPPrivateAccessTokenChallenge._originName,
                            NSPPrivateAccessTokenChallenge._originNames,
                            NSPPrivateAccessTokenChallenge._redemptionContext,
                            NSPPrivateAccessTokenChallenge._tokenType,
                            NSPPrivateAccessTokenClientState._clientKey,
                            NSPPrivateAccessTokenClientState._clientSecret,
                            NSPPrivateAccessTokenFetcher._auditToken,
                            NSPPrivateAccessTokenFetcher._auxiliaryAuthenticationCacheKey,
                            NSPPrivateAccessTokenFetcher._auxiliaryAuthenticationChallengeData,
                            NSPPrivateAccessTokenFetcher._auxiliaryAuthenticationKey,
                            NSPPrivateAccessTokenFetcher._auxiliaryAuthenticationLabel,
                            NSPPrivateAccessTokenFetcher._bundleID,
                            NSPPrivateAccessTokenFetcher._challengeData,
                            NSPPrivateAccessTokenFetcher._customAttester,
                            NSPPrivateAccessTokenFetcher._customAttesterHeaders,
                            NSPPrivateAccessTokenFetcher._metadataSize,
                            NSPPrivateAccessTokenFetcher._originNameKey,
                            NSPPrivateAccessTokenFetcher._pairedChallengeData,
                            NSPPrivateAccessTokenFetcher._rateLimit,
                            NSPPrivateAccessTokenFetcher._secondaryFetchers,
                            NSPPrivateAccessTokenFetcher._selectedOrigin,
                            NSPPrivateAccessTokenFetcher._systemClient,
                            NSPPrivateAccessTokenFetcher._tokenKey,
                            NSPPrivateAccessTokenFetcher._waitingClientNonce,
                            NSPPrivateAccessTokenFetcher._waitingToken,
                            NSPPrivateAccessTokenFetcher._waitingTokenKey,
                            NSPPrivateAccessTokenFetcher._waitingTokenRequest,
                            NSPPrivateAccessTokenRequest._blindedRequest,
                            NSPPrivateAccessTokenRequest._configKeyID,
                            NSPPrivateAccessTokenRequest._encryptedTokenRequest,
                            NSPPrivateAccessTokenRequest._ephemeralPrivateKey,
                            NSPPrivateAccessTokenRequest._hpkeContext,
                            NSPPrivateAccessTokenRequest._hpkeEnc,
                            NSPPrivateAccessTokenRequest._issuerAEADID,
                            NSPPrivateAccessTokenRequest._issuerEncapKey,
                            NSPPrivateAccessTokenRequest._issuerEncapKeyID,
                            NSPPrivateAccessTokenRequest._issuerKDFID,
                            NSPPrivateAccessTokenRequest._issuerKEMID,
                            NSPPrivateAccessTokenRequest._originName,
                            NSPPrivateAccessTokenRequest._requestData,
                            NSPPrivateAccessTokenRequest._requestKey,
                            NSPPrivateAccessTokenRequest._requestSignature,
                            NSPPrivateAccessTokenRequest._tokenType,
                            NSPPrivateAccessTokenRequest._truncatedTokenKeyID,
                            NSPPrivateAccessTokenResponse._responseData,
                            NSPServerClient._connection,
                            NSPServerClient._fetchTokenConnection,
                            NSPServerClient._queue, NSPServerClient.lock,
                            NSURLSessionDelegate._enableExtendedValidation,
                            NSURLSessionDelegate._ignoreInvalidCerts,
                            NSURLSessionDelegate._leafOID,
                            NSURLSessionDelegate._revocationFailClosed,
                            NSURLSessionDelegate._validationHostname,
                            PrivacyProxyAppStatus._activeDate,
                            PrivacyProxyAppStatus._appStatus,
                            PrivacyProxyAppStatus._bundleIdentifier,
                            PrivacyProxyAppStatus._path,
                            PrivacyProxyInfo._activatedTokenCount,
                            PrivacyProxyInfo._anisetteValidationCount,
                            PrivacyProxyInfo._badTokenCount,
                            PrivacyProxyInfo._configFetchedFailedCount,
                            PrivacyProxyInfo._configFetchedSuccessCount,
                            PrivacyProxyInfo._deviceIdentityValidationCount,
                            PrivacyProxyInfo._egressFallbackProxyURL,
                            PrivacyProxyInfo._egressProxyURL,
                            PrivacyProxyInfo._enabledProxiedContentMaps,
                            PrivacyProxyInfo._ingressFallbackProxyURL,
                            PrivacyProxyInfo._ingressProxyURL,
                            PrivacyProxyInfo._missingTokenCount,
                            PrivacyProxyInfo._networkFallbackProxiesRotated,
                            PrivacyProxyInfo._networkProxiesRotated,
                            PrivacyProxyInfo._proxiesRotated,
                            PrivacyProxyInfo._proxyAgentLowWaterMarkHitCount,
                            PrivacyProxyInfo._proxyCacheLowWaterMarkHitCount,
                            PrivacyProxyInfo._proxyTokenConsumedCount,
                            PrivacyProxyInfo._proxyTokenExpiredCount,
                            PrivacyProxyInfo._proxyTokenFetchFailedCount,
                            PrivacyProxyInfo._proxyTokenFetchSuccessCount,
                            PrivacyProxyInfo._requestedTokenCount,
                            PrivacyProxyInfo._resumableSessionCounts,
                            PrivacyProxyInfo._tokenCounts,
                            PrivacyProxyInfo._unactivatedTokenCount,
                            PrivacyProxyNetworkStatus._networkName,
                            PrivacyProxyNetworkStatus._networkStatus,
                            PrivacyProxyNetworkStatus._networkType,
                            PrivacyProxyServiceStatus._details,
                            PrivacyProxyServiceStatus._networkStatuses,
                            PrivacyProxyServiceStatus._serviceStatus,
                            PrivacyProxyServiceStatusTime._serviceStatus,
                            PrivacyProxyServiceStatusTime._serviceStatusEndTime,
                            PrivacyProxyServiceStatusTime._serviceStatusStartTime,
                            PrivacyProxyTokenInfo._agentLowWaterMark,
                            PrivacyProxyTokenInfo._agentTokens,
                            PrivacyProxyTokenInfo._cacheLowWaterMark,
                            PrivacyProxyTokenInfo._cachedTokens ]
...
